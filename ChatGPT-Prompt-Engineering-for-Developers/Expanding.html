<!DOCTYPE HTML>
<html lang="cn" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Expanding(扩展) - Prompt Engineering for Developers</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../theme/css/custom.css">

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item affix "><a href="../about.html">关于本指南</a></li><li class="chapter-item affix "><li class="part-title">ChatGPT Prompt Engineering for Developers</li><li class="spacer"></li><li class="chapter-item "><a href="../ChatGPT-Prompt-Engineering-for-Developers/Introduction.html"><strong aria-hidden="true">1.</strong> Introduction(引言)</a></li><li class="chapter-item "><a href="../ChatGPT-Prompt-Engineering-for-Developers/Guidelines.html"><strong aria-hidden="true">2.</strong> Guidelines(指南)</a></li><li class="chapter-item "><a href="../ChatGPT-Prompt-Engineering-for-Developers/Iterative.html"><strong aria-hidden="true">3.</strong> Iterative(迭代)</a></li><li class="chapter-item "><a href="../ChatGPT-Prompt-Engineering-for-Developers/Summarizing.html"><strong aria-hidden="true">4.</strong> Summarizing(摘要)</a></li><li class="chapter-item "><a href="../ChatGPT-Prompt-Engineering-for-Developers/Inferring.html"><strong aria-hidden="true">5.</strong> Inferring(推理)</a></li><li class="chapter-item "><a href="../ChatGPT-Prompt-Engineering-for-Developers/Transforming.html"><strong aria-hidden="true">6.</strong> Transforming(转换)</a></li><li class="chapter-item expanded "><a href="../ChatGPT-Prompt-Engineering-for-Developers/Expanding.html" class="active"><strong aria-hidden="true">7.</strong> Expanding(扩展)</a></li><li class="chapter-item "><a href="../ChatGPT-Prompt-Engineering-for-Developers/Chatbot.html"><strong aria-hidden="true">8.</strong> Chatbot(聊天机器人)</a></li><li class="chapter-item "><a href="../ChatGPT-Prompt-Engineering-for-Developers/Conclusion.html"><strong aria-hidden="true">9.</strong> Conclusion(总结)</a></li><li class="chapter-item affix "><li class="part-title">Awesome 系列</li><li class="spacer"></li><li class="chapter-item "><a href="../Awesome/Application.html"><strong aria-hidden="true">10.</strong> Awesome Application</a></li><li class="chapter-item "><a href="../Awesome/Resource.html"><strong aria-hidden="true">11.</strong> Awesome Resource</a></li><li class="chapter-item "><a href="../Awesome/TextToImage.html"><strong aria-hidden="true">12.</strong> TextToImage</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Prompt Engineering for Developers</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/bingryan/Prompt-Engineering-for-Developers" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/bingryan/Prompt-Engineering-for-Developers/edit/main/src/ChatGPT-Prompt-Engineering-for-Developers/Expanding.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <div class="sidetoc"><nav class="pagetoc"></nav></div>
                    <main>
                        <h1 id="expanding扩展"><a class="header" href="#expanding扩展">Expanding(扩展)</a></h1>
<p>本节讲的是调节模型中的<code>temperature</code>参数来获得不一样的结果, <a href="https://platform.openai.com/docs/api-reference/completions/create#completions/create-temperature">open ai temperature</a> 定义:</p>
<pre><code>What sampling temperature to use, between 0 and 2. Higher values like 0.8 will make the output more random, while lower values like 0.2 will make it more focused and deterministic.

We generally recommend altering this or `top_p` but not both.
</code></pre>
<p>解释:</p>
<blockquote>
<p>temperature 是一个0-2的一个参数, 越小确定性越强,越大随机性越大</p>
</blockquote>
<p>于是教程中说, 如果你想要做一些不可预测和更具创造性的结果那么你就把temperature调大, 如果你想做一些具有确定性或预测性的那么就把temperature调小</p>
<p>本节实验是根据一个用户的评论来自定义回复邮件</p>
<p>英文评论:</p>
<pre><code>So, they still had the 17 piece system on seasonal sale for around $49 in the month of November, about half off, but for some reason (call it price gouging) around the second week of December the prices all went up to about anywhere from between $70-$89 for the same system. And the 11 piece system went up around $10 or so in price also from the earlier sale price of $29. So it looks okay, but if you look at the base, the part where the blade locks into place doesn’t look as good as in previous editions from a few years ago, but I plan to be very gentle with it (example, I crush very hard items like beans, ice, rice, etc. in the blender first then pulverize them in the serving size I want in the blender then switch to the whipping blade for a finer flour, and use the cross cutting blade first when making smoothies, then use the flat blade if I need them finer/less pulpy). Special tip when making smoothies, finely cut and freeze the fruits and vegetables (if using spinach-lightly stew soften the spinach then freeze until ready for use-and if making sorbet, use a small to medium sized food processor) that you plan to use that way you can avoid adding so much ice if at all-when making your smoothie. After about a year, the motor was making a funny noise. I called customer service but the warranty expired already, so I had to buy another one. FYI: The overall quality has gone done in these types of products, so they are kind of counting on brand recognition and consumer loyalty to maintain sales. Got it in about two days.
</code></pre>
<p>翻译:</p>
<pre><code>因此，他们在 11 月份仍然以 49 美元左右的价格对 17 件系统进行季节性销售，大约减半，但由于某种原因（称之为价格欺诈），在 12 月的第二周左右，价格全部上涨至大约任何地方 同一系统在 70-89 美元之间。 11 件套系统的价格也比之前的 29 美元上涨了 10 美元左右。 所以它看起来还不错，但是如果你看一下底座，刀片锁定到位的部分看起来不像几年前的以前版本那么好，但我打算对它非常温和（例如，我 先在搅拌机中粉碎非常硬的东西，如豆子、冰、大米等，然后在搅拌机中将它们粉碎成我想要的份量，然后切换到搅打刀片以获得更细的面粉，并在制作冰沙时先使用横切刀片 ，然后如果我需要它们更细/更少浆状，请使用平刀片）。 制作冰沙时的特别提示，切碎并冷冻您计划使用的水果和蔬菜（如果使用菠菜 - 稍微炖软菠菜，然后冷冻直至准备使用 - 如果制作冰糕，请使用中小型食品加工机） 这样你就可以避免在制作冰沙时添加太多冰块。 大约一年后，电机发出一种奇怪的声音。 我打电话给客户服务，但保修期已经过期，所以我不得不再买一个。 仅供参考：这些类型的产品的整体质量已经过时，因此他们有点依赖品牌知名度和消费者忠诚度来维持销售。 大概两天就拿到了
</code></pre>
<h2 id="customize-the-automated-reply-to-a-customer-email自定义对客户电子邮件的自动回复"><a class="header" href="#customize-the-automated-reply-to-a-customer-email自定义对客户电子邮件的自动回复">Customize the automated reply to a customer email(自定义对客户电子邮件的自动回复)</a></h2>
<pre><code class="language-python">import openai
import os

from dotenv import load_dotenv, find_dotenv
_ = load_dotenv(find_dotenv()) # read local .env file

openai.api_key  = os.getenv('OPENAI_API_KEY')

def get_completion(prompt, model=&quot;gpt-3.5-turbo&quot;,temperature=0): # Andrew mentioned that the prompt/ completion paradigm is preferable for this class
    messages = [{&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: prompt}]
    response = openai.ChatCompletion.create(
        model=model,
        messages=messages,
        temperature=temperature, # this is the degree of randomness of the model's output
    )
    return response.choices[0].message[&quot;content&quot;]
# given the sentiment from the lesson on &quot;inferring&quot;,
# and the original customer message, customize the email
sentiment = &quot;negative&quot;

# review for a blender
review = f&quot;&quot;&quot;
So, they still had the 17 piece system on seasonal \
sale for around $49 in the month of November, about \
half off, but for some reason (call it price gouging) \
around the second week of December the prices all went \
up to about anywhere from between $70-$89 for the same \
system. And the 11 piece system went up around $10 or \
so in price also from the earlier sale price of $29. \
So it looks okay, but if you look at the base, the part \
where the blade locks into place doesn’t look as good \
as in previous editions from a few years ago, but I \
plan to be very gentle with it (example, I crush \
very hard items like beans, ice, rice, etc. in the \ 
blender first then pulverize them in the serving size \
I want in the blender then switch to the whipping \
blade for a finer flour, and use the cross cutting blade \
first when making smoothies, then use the flat blade \
if I need them finer/less pulpy). Special tip when making \
smoothies, finely cut and freeze the fruits and \
vegetables (if using spinach-lightly stew soften the \ 
spinach then freeze until ready for use-and if making \
sorbet, use a small to medium sized food processor) \ 
that you plan to use that way you can avoid adding so \
much ice if at all-when making your smoothie. \
After about a year, the motor was making a funny noise. \
I called customer service but the warranty expired \
already, so I had to buy another one. FYI: The overall \
quality has gone done in these types of products, so \
they are kind of counting on brand recognition and \
consumer loyalty to maintain sales. Got it in about \
two days.
&quot;&quot;&quot;

prompt = f&quot;&quot;&quot;
You are a customer service AI assistant.
Your task is to send an email reply to a valued customer.
Given the customer email delimited by ```, \
Generate a reply to thank the customer for their review.
If the sentiment is positive or neutral, thank them for \
their review.
If the sentiment is negative, apologize and suggest that \
they can reach out to customer service. 
Make sure to use specific details from the review.
Write in a concise and professional tone.
Sign the email as `AI customer agent`.
Customer review: ```{review}```
Review sentiment: {sentiment}
&quot;&quot;&quot;
response = get_completion(prompt)
print(response)
</code></pre>
<p>返回结果:</p>
<pre><code>Dear Valued Customer,

Thank you for taking the time to leave a review about our product. We are sorry to hear that you experienced an increase in price and that the quality of the product did not meet your expectations. We apologize for any inconvenience this may have caused you.

We would like to assure you that we take all feedback seriously and we will be sure to pass your comments along to our team. If you have any further concerns, please do not hesitate to reach out to our customer service team for assistance.

Thank you again for your review and for choosing our product. We hope to have the opportunity to serve you better in the future.

Best regards,

AI customer agent
</code></pre>
<p>翻译:</p>
<pre><code>尊贵的顾客，

感谢您抽出宝贵时间对我们的产品发表评论。 我们很遗憾听到您遇到价格上涨并且产品质量没有达到您的期望。 对于由此给您带来的任何不便，我们深表歉意。

我们向您保证，我们会认真对待所有反馈，并且一定会将您的意见转达给我们的团队。 如果您有任何其他疑虑，请随时联系我们的客户服务团队寻求帮助。

再次感谢您的评论和选择我们的产品。 我们希望将来有机会为您提供更好的服务。

Best regards,

AI customer agent
</code></pre>
<p>多次运行,发现返回的结果都是一样, 因为我们在上面的参数设置里面设置了: <code>temperature=0</code>, 所以不管运行多少次,结果都是确定性的</p>
<h2 id="remind-the-model-to-use-details-from-the-customers-email"><a class="header" href="#remind-the-model-to-use-details-from-the-customers-email">Remind the model to use details from the customer's email</a></h2>
<p>现在我们把<code>temperature=0.7</code>, 或者你设置其他参数来使每次运行的结果不一样:</p>
<pre><code class="language-python">prompt = f&quot;&quot;&quot;
You are a customer service AI assistant.
Your task is to send an email reply to a valued customer.
Given the customer email delimited by ```, \
Generate a reply to thank the customer for their review.
If the sentiment is positive or neutral, thank them for \
their review.
If the sentiment is negative, apologize and suggest that \
they can reach out to customer service. 
Make sure to use specific details from the review.
Write in a concise and professional tone.
Sign the email as `AI customer agent`.
Customer review: ```{review}```
Review sentiment: {sentiment}
&quot;&quot;&quot;
response = get_completion(prompt, temperature=0.7)
print(response)
</code></pre>
<p>第一次运行结果:</p>
<pre><code>Dear Valued Customer,

Thank you for taking the time to share your experience with our product. We apologize for any inconvenience you may have experienced regarding the price changes and the quality of our product. 

We understand your frustration and we would like to assist you further. Please do not hesitate to contact our customer service team for further assistance. We value your feedback and we will make sure that we take your concerns into consideration in order to improve our services.

Thank you again for your feedback and for choosing our product. 

Sincerely, 

AI customer agent
</code></pre>
<p>第二次运行结果:</p>
<pre><code>Dear Valued Customer,

We are sorry to hear that your experience with our product did not meet your expectations. We apologize for any inconvenience you may have experienced due to the unexpected price increase. 

We appreciate your detailed feedback on the product, and we take your concerns seriously. We encourage you to reach out to our customer service team, who can help address any further issues you may have encountered with the motor.

Thank you for taking the time to share your thoughts with us, as we are always looking for ways to improve our products and services. 

Sincerely,

AI customer agent
</code></pre>
<p>你会发现每次运行出来的结果是不一样的</p>
<h2 id="本节小结"><a class="header" href="#本节小结">本节小结</a></h2>
<p>本节主要是讲的temperature参数,它是一个0-2的一个参数, 越小确定性越强,越大随机性越大,我们可以根据我们的场景来定义该参数以获得我们想要的效果</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../ChatGPT-Prompt-Engineering-for-Developers/Transforming.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../ChatGPT-Prompt-Engineering-for-Developers/Chatbot.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../ChatGPT-Prompt-Engineering-for-Developers/Transforming.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../ChatGPT-Prompt-Engineering-for-Developers/Chatbot.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>



        <script>
            window.playground_line_numbers = true;
        </script>

        <script>
            window.playground_copyable = true;
        </script>

        <script src="../ace.js"></script>
        <script src="../editor.js"></script>
        <script src="../mode-rust.js"></script>
        <script src="../theme-dawn.js"></script>
        <script src="../theme-tomorrow_night.js"></script>

        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../theme/js/custom.js"></script>


    </div>
    </body>
</html>
